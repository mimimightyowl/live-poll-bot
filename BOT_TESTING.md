# ü§ñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Telegram –±–æ—Ç–∞

## ‚úÖ –°—Ç–∞—Ç—É—Å

**Bot Service –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

- **Bot Name**: Live Poll Bot
- **Username**: @livepollsandvotes_bot
- **Status**: ‚úÖ Active
- **Mode**: Long Polling

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
npm run docker:db     # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
npm run dev           # API + Realtime + Bot (–≤—Å–µ –≤–º–µ—Å—Ç–µ!)
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 3 —Ü–≤–µ—Ç–∞ –≤ –ª–æ–≥–∞—Ö:

- üîµ **Blue** - API Service
- üü£ **Magenta** - Realtime Service
- üü° **Yellow** - Bot Service

### 2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram

–û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ: **@livepollsandvotes_bot**

–∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: https://t.me/livepollsandvotes_bot

## üìã –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (–ù–û–í–û–ï!)

```
–í—ã: /start

–ë–æ—Ç: üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Live Poll Bot!

–í—ã: /createpoll "–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª—É—á—à–µ?"

–ë–æ—Ç: ‚úÖ –û–ø—Ä–æ—Å —Å–æ–∑–¥–∞–Ω! ID: 1
     üìù –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –î–æ–±–∞–≤—å—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞
     –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: /addoption 1 "–í–∞—à –≤–∞—Ä–∏–∞–Ω—Ç"

–í—ã: /addoption 1 "Python"

–ë–æ—Ç: ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç "Python" –¥–æ–±–∞–≤–ª–µ–Ω
     –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 1
     –î–æ–±–∞–≤—å—Ç–µ –µ—â–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ: /finish 1

–í—ã: /addoption 1 "JavaScript"

–ë–æ—Ç: ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç "JavaScript" –¥–æ–±–∞–≤–ª–µ–Ω
     –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 2

–í—ã: /addoption 1 "Go"

–ë–æ—Ç: ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç "Go" –¥–æ–±–∞–≤–ª–µ–Ω
     –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: 3

–í—ã: /finish 1

–ë–æ—Ç: üéâ –û–ø—Ä–æ—Å –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
     üìä –í–æ–ø—Ä–æ—Å: –ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª—É—á—à–µ?
     üìù –í–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞: 3
     üîó http://localhost:5174/poll/1/vote
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –æ–ø—Ä–æ—Å–æ–≤

```
–í—ã: /mypolls

–ë–æ—Ç: üìä –í–∞—à–∏ –æ–ø—Ä–æ—Å—ã (1):

     1. –ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª—É—á—à–µ?
        ID: 1 | –í–∞—Ä–∏–∞–Ω—Ç–æ–≤: 3
        üîó http://localhost:5174/poll/1/vote
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø—Ä–æ—Å–µ

```
–í—ã: /poll 1

–ë–æ—Ç: üìä –û–ø—Ä–æ—Å #1
     ‚ùì –í–æ–ø—Ä–æ—Å: –ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª—É—á—à–µ?

     üìù –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞:
       ‚Ä¢ Python: 0 –≥–æ–ª–æ—Å–æ–≤ (0%)
       ‚Ä¢ JavaScript: 0 –≥–æ–ª–æ—Å–æ–≤ (0%)
       ‚Ä¢ Go: 0 –≥–æ–ª–æ—Å–æ–≤ (0%)

     –í—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤: 0
     üîó http://localhost:5174/poll/1/vote
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –°–ø—Ä–∞–≤–∫–∞

```
–í—ã: /help

–ë–æ—Ç: üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

     üÜï –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞:
     /createpoll "–í–æ–ø—Ä–æ—Å" - –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å
     /addoption <id> "—Ç–µ–∫—Å—Ç" - –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç
     /finish <id> - –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ

     üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
     /mypolls - –°–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤
     /poll <id> - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø—Ä–æ—Å–µ

     üí° –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
     1. /createpoll "–ö–∞–∫–æ–π —è–∑—ã–∫ –ª—É—á—à–µ?"
     2. /addoption 1 "Python"
     3. /addoption 1 "JavaScript"
     4. /finish 1
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –¢–µ—Å—Ç 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∫ —á—É–∂–æ–º—É –æ–ø—Ä–æ—Å—É

```
–í—ã: /addoption 999 "Test"
–ë–æ—Ç: ‚ùå –û–ø—Ä–æ—Å 999 –Ω–µ –Ω–∞–π–¥–µ–Ω.
```

### –¢–µ—Å—Ç 2: –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞

```
–í—ã: /addoption 1 "–∞–∞–∞–∞–∞..." (>200 —Å–∏–º–≤–æ–ª–æ–≤)
–ë–æ—Ç: ‚ùå –¢–µ–∫—Å—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞: 1-200 —Å–∏–º–≤–æ–ª–æ–≤.
```

### –¢–µ—Å—Ç 3: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

```
# –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è 10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
–í—ã: /addoption 1 "11th option"
–ë–æ—Ç: ‚ùå –ú–∞–∫—Å–∏–º—É–º 10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞.
```

### –¢–µ—Å—Ç 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–ø—Ä–æ—Å–∞ –±–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

```
–í—ã: /finish 1
–ë–æ—Ç: ‚ùå –û–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞.
     –î–æ–±–∞–≤—å—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: /addoption 1 "–í–∞—à –≤–∞—Ä–∏–∞–Ω—Ç"
```

### –¢–µ—Å—Ç 5: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥—ã

```
–í—ã: /addoption 1 Test (–±–µ–∑ –∫–∞–≤—ã—á–µ–∫)
–ë–æ—Ç: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /addoption <poll_id> "—Ç–µ–∫—Å—Ç"
     –ü—Ä–∏–º–µ—Ä: /addoption 123 "Python"
```

## üîß –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. **–ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã**

- `/addoption <poll_id> "—Ç–µ–∫—Å—Ç"` - –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞
- `/finish <poll_id>` - –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

- `/createpoll` - –¢–µ–ø–µ—Ä—å –Ω–µ —Å–æ–∑–¥–∞–µ—Ç —Å—Å—ã–ª–∫—É —Å—Ä–∞–∑—É, –∞ –ø—Ä–æ—Å–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã
- `/mypolls` - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —É –∫–∞–∂–¥–æ–≥–æ –æ–ø—Ä–æ—Å–∞
- `/poll` - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- `/help` - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–ø—Ä–∞–≤–∫–∞ —Å –Ω–æ–≤—ã–º workflow

### 3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

- `npm run dev` —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–µ—Ç Bot Service –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- `npm run dev:full` –≤–∫–ª—é—á–∞–µ—Ç Bot Service
- Bot Service –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∂–µ–ª—Ç—ã–º —Ü–≤–µ—Ç–æ–º –≤ –ª–æ–≥–∞—Ö

### 4. **–ù–æ–≤—ã–π user flow**

```
–°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å ‚Üí –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Üí –ó–∞–≤–µ—Ä—à–∏—Ç—å ‚Üí –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π
```

## üêõ Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:**

```bash
ps aux | grep bot-service | grep -v grep
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ bot-service:**

```bash
# –ù–∞–π–¥–∏—Ç–µ PID –∏ —É–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
kill <PID>

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
cd backend/bot-service
npm run dev
```

### –û—à–∏–±–∫–∞ gRPC

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API Service –∑–∞–ø—É—â–µ–Ω –∏ gRPC —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
lsof -i :50051
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: node ... TCP *:50051 (LISTEN)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

```bash
cat backend/bot-service/.env.development
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ TELEGRAM_BOT_TOKEN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞

```bash
curl "https://api.telegram.org/bot<YOUR_TOKEN>/getMe"
```

## üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ `npm run seed` –≤ –±–∞–∑–µ –±—É–¥—É—Ç:

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID 1
- –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ–ø—Ä–æ—Å–æ–≤
- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –∫ –æ–ø—Ä–æ—Å–∞–º

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–æ—Å–æ–≤!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –°–æ–∑–¥–∞–π—Ç–µ –æ–ø—Ä–æ—Å
4. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
5. –ó–∞–≤–µ—Ä—à–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ
6. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π!

---

**–í–∞–∂–Ω–æ:** –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env.development` —Å —Ä–µ–∞–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –≤ git!
